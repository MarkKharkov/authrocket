{"version":3,"sources":["authrocket.js"],"names":[],"mappings":"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","file":"authrocket.js","sourcesContent":["(function (global, factory) {\n  typeof exports === 'object' && typeof module !== 'undefined' ? module.exports = factory(require('lodash'), require('superagent')) :\n  typeof define === 'function' && define.amd ? define(['lodash', 'superagent'], factory) :\n  global.AuthRocket = factory(global._,global.superagent);\n}(this, function (_,superagent) { 'use strict';\n\n  var ___default = 'default' in _ ? _['default'] : _;\n  superagent = 'default' in superagent ? superagent['default'] : superagent;\n\n  let defaultConfig = {\n  \tenvName: 'local',\n  \taccountId: process.env.AUTHROCKET_ACCOUNT_ID,\n  \tapiKey: process.env.AUTHROCKET_API_KEY,\n  \trealmId: process.env.AUTHROCKET_REALM_ID,\n  \tjwtSecret: process.env.AUTHROCKET_JWT_SECRET,\n  \turls: {\n  \t\tapi: process.env.AUTHROCKET_API_URL  || 'https://api-e1.authrocket.com/v1/',\n  \t\tlogin: process.env.AUTHROCKET_LOGIN_URL,\n  \t\tsignup: process.env.AUTHROCKET_SIGNUP_URL,\n  \t\tjslib: process.env.AUTHROCKET_JSLIB_URL\n  \t}\n  };\n  let instance = null;\n  class Config {\n  \tconstructor() {\n  \t\tif (!instance) {\n        instance = this;\n      }\n  \t\t// console.log({description: 'Config object created.', config: merge(this, defaultConfig), func: 'constructor', obj: 'Config'});\n  \t\treturn _.merge(instance, defaultConfig);\n  \t}\n  \t// get logLevel() {\n  \t// \treturn defaultConfig.envs[envName].logLevel;\n  \t// }\n  \t// set envName(newEnv) {\n  \t// \tenvName = newEnv;\n  \t// \t// this.envName = newEnv;\n  \t// \t// console.log('Environment name set:', envName);\n  \t// }\n  \t// get env() {\n  \t// \treturn defaultConfig.envs[envName];\n  \t// }\n  }\n  let config = new Config();\n\n  //Set default log level to debug\n  let logLevel = 'debug';\n  //Set log level from config\n  if (config.logLevel) {\n  \tlogLevel = config.logLevel;\n  }\n  let logger = {\n  \tlog(logData) {\n  \t\tlet msgArgs = buildMessageArgs(logData);\n  \t\tif (config.envName == 'production') {\n  \t\t\trunConsoleMethod('log', msgArgs);\n  \t\t} else {\n  \t\t\trunConsoleMethod('log', msgArgs);\n  \t\t}\n  \t},\n  \tinfo(logData) {\n  \t\tlet msgArgs = buildMessageArgs(logData);\n  \t\tif (config.envName == 'production') {\n  \t\t\trunConsoleMethod('info', msgArgs);\n  \t\t} else {\n  \t\t\trunConsoleMethod('info', msgArgs);\n  \t\t}\n  \t},\n  \twarn(logData) {\n  \t\tlet msgArgs = buildMessageArgs(logData);\n  \t\tif (config.envName == 'production') {\n  \t\t\trunConsoleMethod('warn', msgArgs);\n  \t\t} else {\n  \t\t\trunConsoleMethod('warn', msgArgs);\n  \t\t}\n  \t},\n  \tdebug(logData) {\n  \t\tlet msgArgs = buildMessageArgs(logData);\n  \t\tif (config.envName == 'production') {\n  \t\t\t// runConsoleMethod('debug', msgArgs);\n  \t\t\t//Do not display console debugs in production\n  \t\t} else {\n  \t\t\trunConsoleMethod('debug', msgArgs);\n  \t\t}\n  \t},\n  \terror(logData) {\n  \t\tlet msgArgs = buildMessageArgs(logData);\n  \t\tif (config.envName == 'production') {\n  \t\t\t//TODO: Log to external logger\n  \t\t\trunConsoleMethod('error', msgArgs);\n  \t\t} else {\n  \t\t\trunConsoleMethod('error', msgArgs);\n  \t\t}\n  \t}\n  };\n\n  function runConsoleMethod(methodName, methodData) {\n  \t//Safley run console methods or use console log\n  \tif (methodName && console[methodName]) {\n  \t\treturn console[methodName].apply(console, methodData);\n  \t} else {\n  \t\treturn console.log.apply(console, methodData);\n  \t}\n  }\n  function buildMessageArgs(logData) {\n  \tvar msgStr = '';\n  \tvar msgObj = {};\n  \t//TODO: Attach time stamp\n  \t//Attach location information to the beginning of message\n  \tif (___default.isObject(logData)) {\n  \t\tif (logLevel == 'debug') {\n  \t\t\tif (___default.has(logData, 'func')) {\n  \t\t\t\tif (___default.has(logData, 'obj')) {\n  \t\t\t\t\t//Object and function provided\n  \t\t\t\t\tmsgStr += `[${logData.obj}.${logData.func}()]\\n `;\n  \t\t\t\t} else if (___default.has(logData, 'file')) {\n  \t\t\t\t\tmsgStr += `[${logData.file} > ${logData.func}()]\\n `;\n  \t\t\t\t} else {\n  \t\t\t\t\tmsgStr += `[${logData.func}()]\\n `;\n  \t\t\t\t}\n  \t\t\t}\n  \t\t}\n  \t\t//Print each key and its value other than obj and func\n  \t\t___default.each(___default.omit(___default.keys(logData)), (key, ind, list) => {\n  \t\t\tif (key != 'func' && key != 'obj') {\n  \t\t\t\tif (key == 'description' || key == 'message') {\n  \t\t\t\t\tmsgStr += logData[key];\n  \t\t\t\t} else if (___default.isString(logData[key])) {\n  \t\t\t\t\t// msgStr += key + ': ' + logData[key] + ', ';\n  \t\t\t\t\tmsgObj[key] = logData[key];\n  \t\t\t\t} else {\n  \t\t\t\t\t//Print objects differently\n  \t\t\t\t\t// msgStr += key + ': ' + logData[key] + ', ';\n  \t\t\t\t\tmsgObj[key] = logData[key];\n  \t\t\t\t}\n  \t\t\t}\n  \t\t});\n  \t\tmsgStr += '\\n';\n  \t} else if (___default.isString(logData)) {\n  \t\tmsgStr = logData;\n  \t}\n  \tvar msg = [msgStr, msgObj];\n\n  \treturn msg;\n  }\n\n  let request = {\n  \tget(endpoint, queryData) {\n  \t\tvar req = superagent.get(endpoint);\n  \t\tif (queryData) {\n  \t\t\treq.query(queryData);\n  \t\t}\n  \t\t// req = addAuthHeader(req);\n  \t\treturn handleResponse(req);\n  \t},\n  \tpost(endpoint, data) {\n  \t\tvar req = superagent.post(endpoint).send(data);\n  \t\t// req = addAuthHeader(req);\n  \t\treturn handleResponse(req);\n  \t},\n  \tput(endpoint, data) {\n  \t\tvar req = superagent.put(endpoint, data);\n  \t\t// req = addAuthHeader(req);\n  \t\treturn handleResponse(req);\n  \t},\n  \tdel(endpoint, data) {\n  \t\tvar req = superagent.put(endpoint, data);\n  \t\t// req = addAuthHeader(req);\n  \t\treturn handleResponse(req);\n  \t}\n  };\n\n  function handleResponse(req) {\n  \treturn new Promise((resolve, reject) => {\n  \t\treq.end((err, res) => {\n  \t\t\tif (!err) {\n  \t\t\t\t// logger.log({description: 'Response:', response:res, func:'handleResponse', file: 'request'});\n  \t\t\t\treturn resolve(res.body);\n  \t\t\t} else {\n  \t\t\t\tif (err.status == 401) {\n  \t\t\t\t\tlogger.warn({description: 'Unauthorized. You must be signed into make this request.', func: 'handleResponse'});\n  \t\t\t\t}\n  \t\t\t\tif (err && err.response) {\n  \t\t\t\t\treturn reject(err.response.text);\n  \t\t\t\t}\n  \t\t\t\tlogger.warn({description: 'Error response.', error: err, func: 'handleResponse'});\n  \t\t\t\treturn reject(err);\n  \t\t\t}\n  \t\t});\n  \t});\n  }\n\n  class AuthRocket {\n    constructor(settings) {\n      if (settings && ___default.isString(settings)) {\n        this.apiUrl = settings;\n      } else {\n        //Set api url if within settings\n        this.apiUrl = ___default.has(settings, 'apiUrl') ? settings.apiUrl : config.urls.api;\n        this.apiKey = ___default.has(settings, 'apiKey') ? settings.apiKey : config.apiKey;\n        this.accountId = ___default.has(settings, 'accountId') ? settings.accountId : config.accountId;\n        this.realmId = ___default.has(settings, 'realmId') ? settings.realmId : config.realmId;\n        this.jsApiUrl = ___default.has(settings, 'jsApiUrl') ? settings.urls.jslib : config.urls.jslib;\n        this.signupUrl = ___default.has(settings, 'signupUrl') ? settings.urls.signup : config.urls.signup || config.urls.api;\n      }\n    }\n    /** Login as a user\n     * @param {Object} loginData - Object containing data to signup with\n     * @param {String} loginData.email - Email of new user\n     * @param {String} loginData.password - Password of new user\n     * @return {Promise}\n     */\n    login(loginData) {\n      return this.requestWithHeaders('login', loginData).then((res) => {\n        console.log('successful login', res);\n        //TODO: Handle error response\n        return res;\n      }, (error) => {\n        console.error('Error logging in.', error);\n        return Promise.reject(error);\n      });\n    }\n    /** Logout a user\n     * @param {Object} token - Object containing data to signup with\n     * @return {Promise}\n     */\n    logout(token) {\n      return this.requestWithHeaders('logout', {token: token}).then((res) => {\n        console.log('successful logout', res);\n        //TODO: Handle error response\n        return res;\n      }, (error) => {\n        console.error('Error logging out.', error);\n        return Promise.reject(error);\n      });\n    }\n    /** Signup a new user\n     * @param {Object} signupData - Object containing data to signup with\n     * @param {String} signupData.email - Email of new user\n     * @param {String} signupData.password - Password of new user\n     * @param {String} signupData.confirm - Object containing data to signup with\n     * @return {Promise}\n     */\n    signup(signupData) {\n      return request.post(`${this.jsApiUrl}signup`, signupData).then((res) => {\n        console.log('successful signup', res);\n        //TODO: Handle error response\n        return res;\n      }, (error) => {\n        console.error('Error signing up.', error);\n        return Promise.reject(error);\n      });\n    }\n    /** Verify an existing token is valid\n     * @param {String} token - JSON Web Token to verify\n     * @return {Promise}\n     */\n    verify(token) {\n      return this.requestWithHeaders(`sessions/${token}`).then((res) => {\n        console.log('token is valid', res);\n        return res;\n      }, (err) => {\n        console.error('Token is invalid.', err);\n        return Promise.reject(err);\n      });\n    }\n    /** Attach AuthRocket request headers and make a request\n     * @param {String} endpoint - Endpoint to send request to\n     * @param {Object|String} data - Request data\n     * @return {Promise}\n     */\n     requestWithHeaders(url, data) {\n\n     }\n\n    // requestWithHeaders(url, data) {\n    //   // if (!_.has(this, ['accountId', 'apiKey', 'realmId'])) {\n    //   //   console.error('Account, apiKey, and realm are required to make a request with headers.', JSON.stringify(this));\n    //   //   return Promise.reject({message: 'Account, apiKey, and realm are required to make a request with headers.'});\n    //   // }\n    //   let options = {\n    //     method: 'post', //TODO: Handle other request methods\n    //     headers: {\n    //     //   'X-Authrocket-Account': this.accountId,\n    //     //   'X-Authrocket-Api-Key': this.apiKey,\n    //     //   'X-Authrocket-Realm': this.realmId,\n    //       'Accept': 'application/json',\n    //       'Content-Type': 'application/json',\n    //     //   'User-agent': 'https://github.com/prescottprue/authrocket'\n    //     }\n    //   };\n    //   //Add data to request if it exists\n    //   if (data) {\n    //     options.body = data;\n    //   }\n    //   console.log('requesting with options:',url, options);\n    //   return fetch(url, options).then((res) => {\n    //     if (res.status >= 200 && res.status < 300) {\n    //       if (res.error) {\n    //         return Promise.reject(res.error);\n    //       }\n    //       console.log('response with text:', res.json());\n    //       return res.json();\n    //     } else {\n    //       console.log('error response:', res);\n    //       var error = new Error(res.statusText);\n    //       error.response = res;\n    //       return Promise.reject(res.statusText);\n    //     }\n    //   }).then((text) => {\n    //     console.log('Text response:', text);\n    //     return text;\n    //   });\n    // }\n  }\n\n  return AuthRocket;\n\n}));"],"sourceRoot":"/source/"}