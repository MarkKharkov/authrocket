function _classCallCheck(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}var _createClass=function(){function e(e,n){for(var r=0;r<n.length;r++){var o=n[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(n,r,o){return r&&e(n.prototype,r),o&&e(n,o),n}}();!function(e,n){"object"==typeof exports&&"undefined"!=typeof module?module.exports=n(require("lodash"),require("superagent")):"function"==typeof define&&define.amd?define(["lodash","superagent"],n):e.AuthRocket=n(e._,e.superagent)}(this,function(e,n){"use strict";function r(e,n){return e&&console[e]?console[e].apply(console,n):console.log.apply(console,n)}function o(e){var n="",r={};s.isObject(e)?("debug"==l&&s.has(e,"func")&&(n+=s.has(e,"obj")?"["+e.obj+"."+e.func+"()]\n ":s.has(e,"file")?"["+e.file+" > "+e.func+"()]\n ":"["+e.func+"()]\n "),s.each(s.omit(s.keys(e)),function(o,t,i){"func"!=o&&"obj"!=o&&("description"==o||"message"==o?n+=e[o]:s.isString(e[o])?r[o]=e[o]:r[o]=e[o])}),n+="\n"):s.isString(e)&&(n=e);var o=[n,r];return o}function t(e){return new Promise(function(n,r){e.end(function(e,o){return e?(401==e.status&&f.warn({description:"Unauthorized. You must be signed into make this request.",func:"handleResponse"}),e&&e.response?r(e.response.text):(f.warn({description:"Error response.",error:e,func:"handleResponse"}),r(e))):n(o.body)})})}var s="default"in e?e["default"]:e;n="default"in n?n["default"]:n;var i={envName:"local",accountId:process.env.AUTHROCKET_ACCOUNT_ID,apiKey:process.env.AUTHROCKET_API_KEY,realmId:process.env.AUTHROCKET_REALM_ID,jwtSecret:process.env.AUTHROCKET_JWT_SECRET,urls:{api:process.env.AUTHROCKET_API_URL||"https://api-e1.authrocket.com/v1/",login:process.env.AUTHROCKET_LOGIN_URL,signup:process.env.AUTHROCKET_SIGNUP_URL,jslib:process.env.AUTHROCKET_JSLIB_URL}},u=null,c=function g(){return _classCallCheck(this,g),u||(u=this),e.merge(u,i)},a=new c,l="debug";a.logLevel&&(l=a.logLevel);var f={log:function(e){var n=o(e);"production"==a.envName?r("log",n):r("log",n)},info:function(e){var n=o(e);"production"==a.envName?r("info",n):r("info",n)},warn:function(e){var n=o(e);"production"==a.envName?r("warn",n):r("warn",n)},debug:function(e){var n=o(e);"production"==a.envName||r("debug",n)},error:function(e){var n=o(e);"production"==a.envName?r("error",n):r("error",n)}},p={get:function(e,r){var o=n.get(e);return r&&o.query(r),t(o)},post:function(e,r){var o=n.post(e).send(r);return t(o)},put:function(e,r){var o=n.put(e,r);return t(o)},del:function(e,r){var o=n.put(e,r);return t(o)}},d=function(){function e(n){_classCallCheck(this,e),n&&s.isString(n)?this.apiUrl=n:(this.apiUrl=s.has(n,"apiUrl")?n.apiUrl:a.urls.api,this.apiKey=s.has(n,"apiKey")?n.apiKey:a.apiKey,this.accountId=s.has(n,"accountId")?n.accountId:a.accountId,this.realmId=s.has(n,"realmId")?n.realmId:a.realmId,this.jsApiUrl=s.has(n,"jsApiUrl")?n.urls.jslib:a.urls.jslib,this.signupUrl=s.has(n,"signupUrl")?n.urls.signup:a.urls.signup||a.urls.api)}return _createClass(e,[{key:"login",value:function(e){return this.requestWithHeaders("login",e).then(function(e){return console.log("successful login",e),e},function(e){return console.error("Error logging in.",e),Promise.reject(e)})}},{key:"logout",value:function(e){return this.requestWithHeaders("logout",{token:e}).then(function(e){return console.log("successful logout",e),e},function(e){return console.error("Error logging out.",e),Promise.reject(e)})}},{key:"signup",value:function(e){return p.post(this.jsApiUrl+"signup",e).then(function(e){return console.log("successful signup",e),e},function(e){return console.error("Error signing up.",e),Promise.reject(e)})}},{key:"verify",value:function(e){return this.requestWithHeaders("sessions/"+e).then(function(e){return console.log("token is valid",e),e},function(e){return console.error("Token is invalid.",e),Promise.reject(e)})}},{key:"requestWithHeaders",value:function(e,n){}}]),e}();return d});
//# sourceMappingURL=authrocket.min.js.map
