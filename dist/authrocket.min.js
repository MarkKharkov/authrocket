function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var _createClass=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t(require("request-promise"),require("lodash")):"function"==typeof define&&define.amd?define(["request-promise","lodash"],t):e.AuthRocket=t(e.request,e._)}(this,function(e,t){"use strict";e="default"in e?e["default"]:e;var n="default"in t?t["default"]:t,r={envName:"local",accountId:process.env.AUTHROCKET_ACCOUNT_ID,apiKey:process.env.AUTHROCKET_API_KEY,realmId:process.env.AUTHROCKET_REALM_ID,jwtSecret:process.env.AUTHROCKET_JWT_SECRET,urls:{api:process.env.AUTHROCKET_API_URL||"https://api-e1.authrocket.com/v1/",login:process.env.AUTHROCKET_LOGIN_URL,signup:process.env.AUTHROCKET_SIGNUP_URL,jslib:process.env.AUTHROCKET_JSLIB_URL}},o=null,s="prod",i=function(){function e(){return _classCallCheck(this,e),o||(o=this),t.merge(o,r)}return _createClass(e,[{key:"logLevel",get:function(){return r.envs[s].logLevel}},{key:"envName",set:function(e){s=e}},{key:"env",get:function(){return r.envs[s]}}]),e}(),u=new i,c=function(){function t(e){_classCallCheck(this,t),e&&n.isString(e)?this.apiUrl=e:(this.apiUrl=n.has(e,"apiUrl")?e.apiUrl:u.urls.api,this.apiKey=n.has(e,"apiKey")?e.apiKey:u.apiKey,this.accountId=n.has(e,"accountId")?e.accountId:u.accountId,this.realmId=n.has(e,"realmId")?e.realmId:u.realmId)}return _createClass(t,[{key:"login",value:function(e){return this.requestWithHeaders("login",e).then(function(e){return console.log("successful login",e),e},function(e){return console.error("Error logging in.",e),Promise.reject(e)})}},{key:"logout",value:function(e){return this.requestWithHeaders("logout",{token:e}).then(function(e){return console.log("successful logout",e),e},function(e){return console.error("Error logging out.",e),Promise.reject(e)})}},{key:"signup",value:function(e){return this.requestWithHeaders("signup",e).then(function(e){return console.log("successful signup",e),e},function(e){return console.error("Error signing up.",e),Promise.reject(e)})}},{key:"verify",value:function(e){return this.requestWithHeaders("sessions/"+e).then(function(e){return console.log("token is valid",e),e},function(e){return console.error("Token is invalid.",e),Promise.reject(e)})}},{key:"requestWithHeaders",value:function(t,n){var r={method:"POST",uri:""+this.apiUrl+t,headers:{"X-Authrocket-Account":this.accountId,"X-Authrocket-Api-Key":this.apiKey,"X-Authrocket-Realm":this.realmId,Accept:"application/json","Content-Type":"application/json","User-agent":"https://github.com/prescottprue/authrocket"}};return n&&(r.body=n),e(r).then(function(e){return console.log("successful request:",e),e},function(e){return console.error("Error with request:",e),Promise.reject(e)})}}]),t}();return c});
//# sourceMappingURL=authrocket.min.js.map
